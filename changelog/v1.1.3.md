# v1.1.3 更新日志

发布日期：2025-12-20

## 🌍 完整国际化重构

### 多语言支持系统

- **完整的 i18n 架构**
  - 使用 vue-i18n 实现完整的国际化支持
  - 主进程和渲染进程独立的翻译系统
  - 自动检测系统语言并切换界面语言
  - 支持12种语言的完整翻译

- **语言设置界面**
  - 新增独立的语言设置页面
  - 可视化语言选择（带国旗图标）
  - 实时切换语言无需重启
  - 语言设置持久化保存

### 翻译内容

- **完整翻译所有界面**
  - POC验证页面（包括终端和劫持功能）
  - 批量验证页面（包括FOFA搜索、统计、导出等）
  - 设置页面（所有设置项）
  - 所有对话框和提示消息
  - 错误消息和状态提示

- **修复意大利语翻译**
  - 重新翻译完整的意大利语语言包
  - 修复之前版本中混入德语内容的问题
  - 基于中文和英文版本进行准确翻译

### 国家/地区名称本地化

- **国家名称翻译**
  - 所有国家名称支持多语言显示
  - 在批量验证页面的地理位置信息中使用
  - 覆盖全球主要国家和地区

## 🔧 技术改进

### 国际化架构

- **渲染进程 i18n**
  - `src/renderer/src/locales/index.js` - i18n 配置和语言管理
  - `src/renderer/src/locales/*.js` - 12种语言的翻译文件
  - `src/renderer/src/utils/i18nHelper.js` - i18n 辅助工具
  - `src/renderer/src/composables/useI18nMessage.js` - 消息提示国际化

- **主进程 i18n**
  - `src/main/i18n.js` - 主进程翻译系统
  - `src/main/error-codes.js` - 错误代码国际化
  - 支持对话框标题的多语言显示

- **组件国际化**
  - 所有 Vue 组件使用 `$t()` 函数进行翻译
  - 所有 composables 使用 `useI18n()` 进行翻译
  - 统一的翻译键命名规范

### 代码优化

- **移除硬编码文本**
  - 替换所有中文硬编码为翻译键
  - 统一消息提示格式
  - 改进错误处理和用户反馈

- **国家映射优化**
  - `src/renderer/src/utils/countryMap.js` 重构
  - 支持多语言国家名称映射
  - 优化国家代码查找性能

## 📝 主要文件变更

### 新增文件
- `src/main/i18n.js` - 主进程国际化
- `src/main/error-codes.js` - 错误代码定义
- `src/renderer/src/locales/` - 语言包目录（12个语言文件）
- `src/renderer/src/components/settings/LanguageSettings.vue` - 语言设置组件
- `src/renderer/src/composables/useI18nMessage.js` - 消息国际化
- `src/renderer/src/utils/i18nHelper.js` - i18n 工具函数
- `screenshoot/*_en.png` - 英文界面截图

### 修改文件（65个文件）
- 所有 Vue 组件和 composables 添加国际化支持
- README 文件更新多语言说明
- 历史 changelog 文件格式统一

## 🌐 支持的语言

- 🇨🇳 简体中文 (zh-CN)
- 🇭🇰 繁體中文 (zh-HK)
- 🇺🇸 English (en-US)
- 🇮🇳 हिन्दी (hi-IN)
- 🇪🇸 Español (es-ES)
- 🇫🇷 Français (fr-FR)
- 🇷🇺 Русский (ru-RU)
- 🇩🇪 Deutsch (de-DE)
- 🇵🇹 Português (pt-PT)
- 🇯🇵 日本語 (ja-JP)
- 🇰🇷 한국어 (ko-KR)
- 🇮🇹 Italiano (it-IT) ✨

## 💡 使用说明

1. **自动语言检测**：首次启动时自动检测系统语言
2. **手动切换语言**：在设置 → 语言设置中选择语言
3. **实时生效**：语言切换立即生效，无需重启应用

## 🔗 相关文档

- [国际化架构说明](../docs/i18n.md)
- [添加新语言指南](../docs/add-language.md)
