# v1.1.1 更新日志

发布日期：2025-12-18

## 🐛 Bug 修复

### 劫持路由功能优化

- **修复编辑器显示问题**
  - 修复在劫持路由 tab 时重新执行检测导致编辑器无法显示的问题
  - 添加编辑器失效检测和自动重建机制
  - 优化编辑器初始化逻辑，支持强制重新初始化

- **实时保存功能**
  - 添加保存状态实时指示器（未保存/保存中/已保存）
  - 修复空内容、粘贴代码、删除代码时不触发自动保存的问题
  - 修复恢复默认模板时不触发保存的问题
  - 优化保存逻辑，防止编辑器与数据源之间的循环更新

- **用户体验改进**
  - 添加"恢复默认模板"按钮到劫持路由工具栏
  - 保存状态指示器带有动画效果，清晰展示保存进度
  - 所有内容变化（包括空内容和默认模板）都会自动保存

## 🔧 技术改进

- 添加 `isUpdatingFromEditor` 标志防止编辑器更新循环
- 优化 watch 监听器逻辑，移除不必要的条件判断
- 改进编辑器生命周期管理，支持动态重建
- 添加详细的控制台日志用于调试编辑器状态

## 📝 文件变更

- `src/renderer/src/composables/usePocHijack.js` - 优化保存逻辑和编辑器初始化
- `src/renderer/src/views/POCView.vue` - 添加保存状态指示器和恢复按钮
- 添加 CSS 动画支持保存状态的旋转图标效果
