# v1.1.2 更新日志

发布日期：2025-12-19

## ✨ 新功能

### 批量验证多线程支持

- **多线程并发验证**
  - 新增线程数设置滑块（1-32线程）
  - 支持多个线程同时验证不同的目标
  - 显著提高批量验证速度
  - 自动管理线程生命周期和任务分配

- **智能页面跳转**
  - 验证完成后自动跳转到下一页
  - 智能等待数据加载完成后再继续验证
  - 添加连续空页面检测机制（最多跳过3页）
  - 防止无限循环跳转

- **自动滚动优化**
  - 验证时自动滚动到正在验证的项
  - 保持验证项在屏幕中间位置
  - 提供更好的视觉反馈

## 🐛 Bug 修复

### 批量验证页面跳转问题

- **修复无限跳转问题**
  - 修复在没有提前加载下一页时无限跳转的问题
  - 添加数据加载完成检测机制
  - 优化页面切换时序，确保数据真正写入缓存

- **修复验证中断问题**
  - 修复跳转第二页后直接显示完成的问题
  - 添加缓存轮询检查机制（最多等待3秒）
  - 确保数据加载完成后再继续验证

- **翻页限制**
  - 验证进行中禁止手动翻页
  - 必须等待所有验证完成后才能翻页
  - 防止验证过程中的数据混乱

## 🔧 技术改进

### 批量验证逻辑优化

- 重写 `executeBatchVerify` 函数支持真正的并发
- 使用 Promise.all() 实现多线程并发执行
- 添加详细的调试日志用于问题排查
- 优化页面跳转逻辑，移除重复的预加载代码

### 数据加载优化

- 添加缓存轮询检查机制
- 优化数据加载时序
- 添加连续空页面计数器
- 改进错误处理和边界情况处理

## 📝 文件变更

- `src/renderer/src/composables/useBatchVerify.js` - 重写多线程验证逻辑
- `src/renderer/src/composables/useBatchSettings.js` - 添加线程数配置支持
- `src/renderer/src/components/batch/SettingsDialog.vue` - 添加线程数滑块
- `src/renderer/src/views/BatchView.vue` - 优化页面跳转控制

## 💡 使用建议

- 建议根据目标服务器承受能力选择合适的线程数（推荐4-8线程）
- 过多的线程可能导致目标服务器拒绝连接或触发防护机制
- 验证过程中无法手动切换页面，需等待当前页验证完成

## 🔗 相关文档

- [多线程功能说明](../MULTITHREADING_FEATURE.md)
- [调试说明](../DEBUG_BATCH_VERIFY.md)
